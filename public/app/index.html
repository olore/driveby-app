<!DOCTYPE html>
<html>
  <head>

    <title>Drive By</title>
  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;" />
    <meta charset="utf-8">

    <!-- iPad/iPhone specific css below, add after your main css >
    <link rel="stylesheet" media="only screen and (max-device-width: 1024px)" href="ipad.css" type="text/css" />    
    <link rel="stylesheet" media="only screen and (max-device-width: 480px)" href="iphone.css" type="text/css" />    
    -->

    <!-- If your application is targeting iOS BEFORE 4.0 you MUST put json2.js from http://www.JSON.org/json2.js into your www directory and include it here -->

    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.css" />
    <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>


    <script type="text/javascript" charset="utf-8" src="/app/js/phonegap-1.1.0.js"></script>
    <script type="text/javascript" charset="utf-8" src="/app/js/handlebars-1.0.0.beta.4.js"></script>
    <script type="text/javascript" charset="utf-8" src="/app/js/ejs_production.js"></script>
    <script type="text/javascript" charset="utf-8" src="/app/js/jquery.timeago.js"></script>
    <script type="text/javascript" charset="utf-8" src="/app/js/jquery.ios-slider-0.9.1.js"></script>

    <script type="text/javascript" charset="utf-8" src="/app/js/driveby.js"></script>


		<style type="text/css">
			.iosSlider {
				width: 100%;
				height: 80px;
			}
			
			.iosSlider .slider {
				width: 100%;
			}
			
			.iosSlider .slider .item {
				position: relative;
				top: 0;
				left: 0;
				width: 130px;
				height: 60px;
				background: #F9F9F9;
				margin: 0 0 0 0;
        text-align: center;
        padding-top: 10px;
        padding-bottom: 10px;
			}
			
      .ui-li-thumb, .ui-listview .ui-li-icon {
        max-width: 120px;
      }
		</style>
  </head>

  <body> 
    <div data-role="page" id="index">

      <div data-role="header" data-position="fixed">
        <h1>Drive By</h1>
      </div><!-- /header -->

      <div data-role="content">

        <div class="content-primary">

          <form id="new_post" action="/posts" method="post" data-ajax="false">

            <label for="state">State:</label>
      
            <div class='iosSlider'>
              <div class='slider'> </div>
            </div>

            <label for="license_plate">License Plate:</label>
            <input type="text" name="license_plate" id="license_plate" value=""  />

            <label for="comment">Comment:</label>
            <textarea name="comment" id="comment"></textarea>

            <input type="hidden" id="creator" name="creator" value="testing_123" />
            <input type="submit" value="Submit"/>
          </form>

          <div id="recent">
            <h3>Recent submissions</h3>
            <ul id="recent-list" data-role="listview" style="position: relative">
            </ul>
          </div>
        </div>
        
      </div><!-- /content -->

      <div data-role="footer" data-id="my-footer" data-position="fixed">
        <h4>Drive Safely!</h4>
      </div><!-- /footer -->

    </div><!-- /page -->
  
  </body>

  <script type="text/javascript">
    $(document).ready(function() {

      $(document).bind("deviceready", function(){
        //Some day I may need to know that the device is ready (phonegap)
        //Today is not that day
      });

      DriveBy.initialize();

      $('.iosSlider').iosSlider({
        desktopClickDrag: true
      });

    });
  </script>

  <style>
    .recent_submission {
    
    }
    .recent_submission .plate_image {
        position: relative; 
        background: url(/app/images/nj.jpg) no-repeat; */
        width: 250px; 
        height: 130px;
    }
    .recent_submission .plate_text_container {
        position: absolute; 
        top: 0; left: 20px; width: 240px;
    }
    .recent_submission .plate_text {
        font-size: 40px; 
        position: relative; 
        top: 30px; 
        text-align: center;
    }
  </style>

  <script id="recent_posts_template" type="text/x-handlebars-template">
    <li>
      <div class="recent_submission">
        <div class="plate_image" style="background: url(/app/images/{{toLowerCase post.state}}.jpg) no-repeat" />

        <p title='{{post.created_at}}' class='timeago ui-li-aside'>
          {{post.created_at}}
        </p>

        <div class="plate_text_container">
          <h3 class="plate_text"'>
            {{post.license_plate}}
           </h3>
        </div>
        <p>{{post.comment}}</p>
      </div>
    </li>
  </script>

</html>
